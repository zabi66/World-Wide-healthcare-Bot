<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare Chatbot</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>World-Wide Healthcare Bot <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 128 128">
        <path d="M 46 2 C 44.3 2 43 3.3 43 5 L 43 27.599609 L 23.400391 16.300781 C 22.700391 15.900781 21.899609 15.8 21.099609 16 C 20.299609 16.2 19.700781 16.700391 19.300781 17.400391 L 1.3007812 48.599609 C 0.90078125 49.299609 0.8 50.100391 1 50.900391 C 1.2 51.700391 1.7003906 52.299219 2.4003906 52.699219 L 22 64 L 2.4003906 75.300781 C 1.7003906 75.700781 1.2 76.399609 1 77.099609 C 0.8 77.899609 0.90078125 78.700391 1.3007812 79.400391 L 19.300781 110.59961 C 19.700781 111.29961 20.399609 111.8 21.099609 112 C 21.899609 112.2 22.700391 112.09922 23.400391 111.69922 L 43 100.40039 L 43 123 C 43 124.7 44.3 126 46 126 L 82 126 C 83.7 126 85 124.7 85 123 L 85 100.40039 L 104.59961 111.69922 C 105.29961 112.09922 106.10039 112.2 106.90039 112 C 107.70039 111.8 108.29922 111.29961 108.69922 110.59961 L 126.69922 79.400391 C 127.09922 78.700391 127.2 77.899609 127 77.099609 C 126.8 76.299609 126.29961 75.700781 125.59961 75.300781 L 106 64 L 125.59961 52.699219 C 126.29961 52.299219 126.8 51.600391 127 50.900391 C 127.2 50.100391 127.09922 49.299609 126.69922 48.599609 L 108.69922 17.400391 C 108.29922 16.700391 107.60039 16.2 106.90039 16 C 106.10039 15.8 105.29961 15.900781 104.59961 16.300781 L 85 27.599609 L 85 5 C 85 3.3 83.7 2 82 2 L 46 2 z M 49 8 L 79 8 L 79 32.800781 C 79 33.900781 79.6 34.900391 80.5 35.400391 C 81.4 35.900391 82.6 35.900391 83.5 35.400391 L 105 23 L 120 49 L 98.5 61.400391 C 97.6 61.900391 97 62.9 97 64 C 97 65.1 97.6 66.099609 98.5 66.599609 L 120 79 L 105 105 L 83.5 92.599609 C 82.6 92.099609 81.4 92.099609 80.5 92.599609 C 79.6 93.099609 79 94.099219 79 95.199219 L 79 120 L 49 120 L 49 95.199219 C 49 94.099219 48.4 93.099609 47.5 92.599609 C 46.6 92.099609 45.4 92.099609 44.5 92.599609 L 23 105 L 8 79 L 29.5 66.599609 C 30.4 66.099609 31 65.1 31 64 C 31 62.9 30.4 61.900391 29.5 61.400391 L 8 49 L 23 23 L 44.5 35.400391 C 45.4 35.900391 46.6 35.900391 47.5 35.400391 C 48.4 34.900391 49 33.900781 49 32.800781 L 49 8 z M 64 27 C 62.3 27 61 28.3 61 30 L 61 41.5 L 52.599609 46.300781 C 50.099609 47.700781 48.799219 50.399219 49.199219 53.199219 C 49.499219 55.999219 51.499219 58.299609 54.199219 59.099609 L 67.900391 63 C 68.500391 63.2 68.599609 63.6 68.599609 64 C 68.599609 64.4 68.500391 64.8 67.900391 65 L 54.199219 68.900391 C 51.499219 69.700391 49.499219 71.900781 49.199219 74.800781 C 48.899219 77.600781 50.199609 80.299219 52.599609 81.699219 L 61 86.5 L 61 98 C 61 99.7 62.3 101 64 101 C 65.7 101 67 99.7 67 98 L 67 90 L 68.5 90.900391 C 69 91.200391 69.5 91.300781 70 91.300781 C 71 91.300781 71.999609 90.800781 72.599609 89.800781 C 73.399609 88.400781 72.9 86.499219 71.5 85.699219 L 55.599609 76.5 C 55.099609 76.2 55.099609 75.8 55.099609 75.5 C 55.099609 75.2 55.300391 74.799219 55.900391 74.699219 L 69.599609 70.800781 C 72.599609 69.900781 74.699219 67.199609 74.699219 64.099609 C 74.699219 60.999609 72.699609 58.200391 69.599609 57.400391 L 55.900391 53.5 C 55.300391 53.3 55.199219 52.899219 55.199219 52.699219 C 55.199219 52.499219 55.199219 51.999219 55.699219 51.699219 L 71.599609 42.5 C 72.999609 41.7 73.499219 39.800391 72.699219 38.400391 C 71.899219 37.000391 69.999609 36.500781 68.599609 37.300781 L 67 38 L 67 30 C 67 28.3 65.7 27 64 27 z"></path>
        </svg></h1>
    <div id="chat-container">
        <div id="chat-box"></div>
        <input type="text" id="user-input" placeholder="Type a message">
        <button onclick="sendMessage()">Send</button>
    </div>
    <div class="container">
        <button id="theme-toggle"> Dark/Light Mode</button>
      </div>
      <h2>Emergency: Call ðŸ“ž 911</h2>
    <script>
        async function sendMessage() {
            const userInput = document.getElementById('user-input').value;
            const response = await fetch('/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ message: userInput })
            });
            const data = await response.json();
            if (data.reply) {
                const chatBox = document.getElementById('chat-box');
                const userMessage = document.createElement('div');
                userMessage.className = 'user-message';
                userMessage.textContent = 'You: ' + userInput;
                const botReply = document.createElement('div');
                botReply.className = 'bot-reply';
                botReply.textContent = 'Bot: ' + data.reply;
                chatBox.appendChild(userMessage);
                chatBox.appendChild(botReply);
                document.getElementById('user-input').value = '';
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
  const themeToggleBtn = document.getElementById('theme-toggle');

  // Check for saved user preference, if any, on load of the website
  const currentTheme = localStorage.getItem('theme');
  if (currentTheme) {
    document.body.classList.add(currentTheme);
  }

  themeToggleBtn.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');

    // Save the current theme in local storage
    let theme = 'light-mode';
    if (document.body.classList.contains('dark-mode')) {
      theme = 'dark-mode';
    }
    localStorage.setItem('theme', theme);
  });
});
    </script>
</body>
</html>
